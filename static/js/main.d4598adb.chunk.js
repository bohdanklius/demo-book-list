(this["webpackJsonpdemo-book-list"]=this["webpackJsonpdemo-book-list"]||[]).push([[0],{138:function(e,t,a){},140:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(47),o=a.n(r),i=(a(138),a(52)),l=a(107),s=a.n(l),d=a(116),u="http://localhost:3004/books";function j(){return(j=Object(d.a)(s.a.mark((function e(){var t,a,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,fetch(u,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(140);var h=a(167),b=a(152),O=a(5),m=function(e){var t=e.id,a=e.bookTitle,c=e.authorName,n=e.category,r=e.ISBN,o=e.handleEdit,i=e.handleRemove;return Object(O.jsxs)(h.a.Row,{children:[Object(O.jsx)(h.a.Cell,{children:a}),Object(O.jsx)(h.a.Cell,{children:c}),Object(O.jsx)(h.a.Cell,{children:n}),Object(O.jsx)(h.a.Cell,{children:r}),Object(O.jsxs)(h.a.Cell,{children:[Object(O.jsx)(b.a,{basic:!0,color:"grey",content:"Edit",onClick:function(){return o(t)}}),Object(O.jsx)(b.a,{basic:!0,color:"red",content:"Delete",onClick:function(){i(t),function(e){fetch("".concat(u,"/").concat(e),{method:"DELETE"}).then((function(e){return e.text()}))}(t)}})]})]})},f=function(e){var t=e.books,a=e.handleEdit,c=e.handleRemove;return Object(O.jsx)("div",{className:"books",children:Object(O.jsxs)(h.a,{celled:!0,children:[Object(O.jsx)(h.a.Header,{children:Object(O.jsxs)(h.a.Row,{children:[Object(O.jsx)(h.a.HeaderCell,{children:"Name"}),Object(O.jsx)(h.a.HeaderCell,{children:"Author"}),Object(O.jsx)(h.a.HeaderCell,{children:"Category"}),Object(O.jsx)(h.a.HeaderCell,{children:"ISBN"}),Object(O.jsx)(h.a.HeaderCell,{children:"Action"})]})}),Object(O.jsx)(h.a.Body,{children:t.map((function(e){var t=e.id,n=e.bookTitle,r=e.authorName,o=e.category,i=e.ISBN;return Object(O.jsx)(m,{handleRemove:c,handleEdit:a,id:t,bookTitle:n,authorName:r,category:o,ISBN:i},t)}))})]})})},x=a(120),N=a(74),v=a(18),y=a(166),g=a(165),k=a(168),p="DASHBOARD",B="BOOKFORM",S={id:Object(k.a)(),bookTitle:"",authorName:"",category:"",ISBN:""},C=(a(148),[{key:0,text:"Category",value:"Category"},{key:0,text:"Other",value:"Other"},{key:1,text:"Picture books",value:"Picture books"},{key:2,text:"Educational material",value:"Educational material"},{key:3,text:"Crime, Thriller & Mystery",value:"Crime, Thriller & Mystery"},{key:4,text:"Science Fiction & Fantasy",value:"Science Fiction & Fantasy"},{key:5,text:"Biographies",value:"Biographies"},{key:6,text:"Teaching & higher education",value:"Teaching & higher education"}]),T=function(e){var t=e.setBooks,a=e.editedBook,n=e.setNavigationActive,r=Object(c.useState)(S),o=Object(i.a)(r,2),l=o[0],s=o[1];Object(c.useEffect)((function(){a&&s(Object(v.a)(Object(v.a)({},l),a))}),[a]);var d=Object(c.useState)({bookTitle:!1,authorName:!1,category:!1,ISBN:!1}),h=Object(i.a)(d,2),m=h[0],f=h[1],k=function(e){var t=e.target,a=t.value,c=t.name;s(Object(v.a)(Object(v.a)({},l),{},Object(N.a)({},c,a))),f(Object(v.a)(Object(v.a)({},m),{},Object(N.a)({},c,!1)))};return Object(O.jsxs)(y.a,{onSubmit:function(e){e.preventDefault(),""===l.bookTitle&&f((function(e){return Object(v.a)(Object(v.a)({},e),{},{bookTitle:!0})})),""===l.authorName&&f((function(e){return Object(v.a)(Object(v.a)({},e),{},{authorName:!0})})),""===l.category&&f((function(e){return Object(v.a)(Object(v.a)({},e),{},{category:!0})})),""===l.ISBN&&f((function(e){return Object(v.a)(Object(v.a)({},e),{},{ISBN:!0})})),l.id&&l.bookTitle.length&&l.authorName.length&&l.category.length&&l.ISBN.length&&(t((function(e){return e.some((function(e){return e.id===l.id}))?(t=l.id,a=l,fetch("".concat(u,"/").concat(t),{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})),e.map((function(e){return e.id===l.id?l:e}))):[].concat(Object(x.a)(e),[l]);var t,a})),function(){j.apply(this,arguments)}(l),s(S),n(p))},children:[Object(O.jsxs)(y.a.Group,{widths:"equal",children:[Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)(y.a.Field,{className:m.bookTitle?"error":"",value:l.bookTitle,onChange:k,name:"bookTitle",control:g.a,label:"Book title",placeholder:"Book title"}),m.bookTitle&&Object(O.jsx)("p",{className:"error__title",children:"Pleace enter the Book title"})]}),Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)(y.a.Field,{className:m.authorName?"error":"",value:l.authorName,onChange:k,name:"authorName",control:g.a,label:"Author name",placeholder:"Author name"}),m.authorName&&Object(O.jsx)("p",{className:"error__title",children:"Pleace enter the Author name"})]}),Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)("label",{htmlFor:"category",className:"category",children:"Category"}),Object(O.jsx)("select",{className:m.category?"error":"",name:"category",label:"Category",value:l.category,onChange:k,id:"category",children:C.map((function(e){return Object(O.jsx)("option",{value:e.value,children:e.text},e.key)}))}),m.category&&Object(O.jsx)("p",{className:"error__title",children:"Pleace enter the Category"})]}),Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)(y.a.Field,{className:m.ISBN?"error":"",value:l.ISBN,onChange:k,name:"ISBN",control:g.a,label:"ISBN",placeholder:"ISBN"}),m.ISBN&&Object(O.jsx)("p",{className:"error__title",children:"Pleace enter the ISBN"})]})]}),Object(O.jsx)(y.a.Field,{control:b.a,children:"Add a Book"})]})},I=(a(149),[{id:1,title:"Dashboard"},{id:2,title:"Add a Book"}]),E=function(e){var t=e.setNavigationActive,a=e.setEditedBook;return Object(O.jsx)("div",{className:"header",children:I.map((function(e){var c=e.id,n=e.title;return Object(O.jsx)("button",{onClick:function(){t(1===c?p:B),a(S)},className:"header__button",type:"button",children:n},c)}))})};var w=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(p),o=Object(i.a)(r,2),l=o[0],s=o[1],d=Object(c.useState)({id:Date.now(),bookTitle:"",authorName:"",category:"",ISBN:""}),j=Object(i.a)(d,2),h=j[0],b=j[1];return Object(c.useEffect)((function(){fetch(u).then((function(e){return e.json()})).then((function(e){return e})).then((function(e){return n(e)}))}),[]),Object(O.jsxs)("div",{children:[Object(O.jsx)(E,{setNavigationActive:s,setEditedBook:b}),l===p&&Object(O.jsx)(f,{handleRemove:function(e){n(a.filter((function(t){return t.id!==e})))},handleEdit:function(e){s(B),b(a.find((function(t){return t.id===e})))},books:a}),l===B&&Object(O.jsx)(T,{setNavigationActive:s,setBooks:n,editedBook:h})]})};a(150);o.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.d4598adb.chunk.js.map